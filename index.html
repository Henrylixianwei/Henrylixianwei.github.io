<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>个人主页</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="shortcut icon" href="./assets/favicon.png" />
  <link rel="stylesheet" href="./assets/swiper-bundle.min.css">
  <link rel="stylesheet" type="text/css" href="./assets/index.css">
</head>

<body>
  <canvas id="particle"></canvas>
  <div class="container">
    <!-- 左侧菜单 -->
    <i class="fa-solid fa-bars collapsed-menu fa-2x" onclick="toggleNav()"></i>
    <nav class="sidebar">
      <div class="avatar-wraper">
        <img class="avatar-bg" src="./assets/avatar-bg.webp" />
        <div class="avatar-container">
          <img class="avatar" src="./assets/avatar.webp" />
        </div>
      </div>
      <ul class="nav-menu">
        <li class="nav-item">
          <a href="javascript:void(0)" class="nav-link" onclick="showSection('portfolio')">
            <i class="fas fa-folder-open"></i>匠心之作
          </a>
        </li>
        <li class="nav-item">
          <a href="javascript:void(0)" class="nav-link" onclick="showSection('introduction')">
            <i class="fa-solid fa-address-card"></i>魅力档案
          </a>
        </li>
        <li class="nav-item">
          <a href="javascript:void(0)" class="nav-link" onclick="showSection('workexperience')">
            <i class="fa-solid fa-briefcase"></i>个人经历
          </a>
        </li>
        <li class="nav-item">
          <a href="javascript:void(0)" class="nav-link" onclick="showSection('education')">
            <i class="fa-solid fa-user-graduate"></i>教育背景
          </a>
        </li>
        <li class="nav-item">
          <a href="javascript:void(0)" class="nav-link" onclick="showSection('hobby')">
            <i class="fa-solid fa-heart"></i>兴趣爱好
          </a>
        </li>
        <li class="nav-item">
          <a href="javascript:void(0)" class="nav-link" onclick="showSection('other')">
            <i class="fa-solid fa-gift"></i>扩展包
          </a>
        </li>
        <!-- 其他菜单项（结构相同，修改图标和ID即可） -->
      </ul>
    </nav>
    <!-- 右侧内容区域 -->
    <section id="portfolio" class="content-section active-section">
      <div class="section-header">
        <i class="fas fa-folder-open fa-2x" style="color: var(--accent-color);"></i>
        <a href="javascript:void(0)" class="section-title">精选作品集</a>
      </div>
      <hr class="divider">
      <div class="card-container">
        <div class="work-card" onclick="showModal('iris GO','iris GO', true, 10)">
          <img class="lazy-img" data-src="./projects/iris GO/iris GO1.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>iris GO · APP</h3>
            <p>2014.10-2015.12 江苏，南京</p>
            <i class="fa-solid fa-square-arrow-up-right fa-2x project-link" onclick="openLink('https://apps.apple.com/us/app/iris-go/id959960554')"></i>
          </div>
        </div>
        <div class="work-card" onclick="showModal('谷雨易购官网','guyuEbay', true, 6)">
          <img class="lazy-img" data-src="./projects/guyuEbay/guyuEbay1.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>谷雨易购官网 · PC</h3>
            <p>2021.05-2023.10 江苏，南京</p>
          </div>
        </div>
        <div class="work-card" onclick="showModal('谷雨严选','guyuSelection', true, 12)">
          <img class="lazy-img" data-src="./projects/guyuSelection/guyuSelection2.webp" src="./assets/loading.webp" alt="加载中..." style="object-position: 0 6%;">
          <div class="work-content">
            <h3>谷雨严选 · 小程序/公众号</h3>
            <p>2021.05-2023.10 江苏，南京</p>
          </div>
        </div>
        <div class="work-card" onclick="showModal('区域性股权市场运行情况','daping', true, 3)">
          <img class="lazy-img" data-src="./projects/daping/daping1.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>大屏-区域性股权市场运行情况 · PC</h3>
            <p>2021.05-2023.10 江苏，南京</p>
          </div>
        </div>
        <div class="work-card" onclick="showModal('区域性股权市场区块链试点官网','blockChain', true, 5)">
          <img class="lazy-img" data-src="./projects/blockChain/blockChain1.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>区域性股权市场区块链试点官网 · PC</h3>
            <p>2021.05-2023.10 江苏，南京</p>
          </div>
        </div>
        <div class="work-card" onclick="showModal('审计管理平台','审计管理平台.webp')">
          <img class="lazy-img" data-src="./projects/审计管理平台.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>审计管理平台 · PC</h3>
            <p>2019.04-2021.03 江苏，南京</p>
          </div>
        </div>
        <div class="work-card" onclick="showModal('苏宁在线文档','苏宁在线文档.webp')">
          <img class="lazy-img" data-src="./projects/苏宁在线文档.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>苏宁在线文档 · PC</h3>
            <p>2019.04-2021.03 江苏，南京</p>
            <i class="fa-solid fa-square-arrow-up-right fa-2x project-link" onclick="openLink('https://wd.suning.com')"></i>
          </div>
        </div>
        <div class="work-card" onclick="showModal('客户端财务管理工作台','客户端财务管理工作台.webp')">
          <img class="lazy-img" data-src="./projects/客户端财务管理工作台.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>客户端财务管理工作台 · PC桌面</h3>
            <p>2019.04-2021.03 江苏，南京</p>
          </div>
        </div>
        <div class="work-card" onclick="showModal('苏宁小店app','苏宁小店app.webp', 'contain')">
          <img class="lazy-img" data-src="./projects/苏宁小店app.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>苏宁小店 · APP</h3>
            <p>2019.04-2021.03 江苏，南京</p>
          </div>
        </div>
        <div class="work-card" onclick="showModal('足球俱乐部会员平台','足球俱乐部会员平台.webp')">
          <img class="lazy-img" data-src="./projects/足球俱乐部会员平台.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>足球俱乐部会员平台 · PC</h3>
            <p>2017.06-2018.07 江苏，南京</p>
            <i class="fa-solid fa-square-arrow-up-right fa-2x project-link" onclick="openLink('https://club.suning.com')"></i>
          </div>
        </div>
        <div class="work-card" onclick="showModal('智能化监控管理系统','智能化监控管理系统.webp')">
          <img class="lazy-img" data-src="./projects/智能化监控管理系统.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>智能化监控管理系统 · PC</h3>
            <p>2018.10-2019.03 江苏，南京</p>
          </div>
        </div>
        <div class="work-card" onclick="showModal('能源储能管理平台','能源储能管理平台.webp')">
          <img class="lazy-img" data-src="./projects/能源储能管理平台.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>能源储能管理平台 · PC</h3>
            <p>2018.10-2019.03 江苏，南京</p>
          </div>
        </div>
        <div class="work-card" onclick="showModal('野行农家乐','野行农家乐app.webp')">
          <img class="lazy-img" data-src="./projects/野行农家乐app.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>野行农家乐 · APP</h3>
            <p>2016.03-2016.12 江苏，南京</p>
          </div>
        </div>
        <div class="work-card" onclick="showModal('多伦学车','多伦学车app.webp')">
          <img class="lazy-img" data-src="./projects/多伦学车app.webp" src="./assets/loading.webp" alt="加载中...">
          <div class="work-content">
            <h3>多伦学车 · APP</h3>
            <p>2014.10-2015.12 江苏，南京</p>
            <i class="fa-solid fa-square-arrow-up-right fa-2x project-link" onclick="openLink('https://apps.apple.com/jp/app/%E5%A4%9A%E5%A4%9A%E9%A9%BE%E5%88%B0%E5%AD%A6%E5%91%98%E7%89%88/id1070462565')"></i>
          </div>
        </div>
        <!-- 更多卡片 -->
      </div>
    </section>
    <section id="introduction" class="content-section">
      <div class="section-header">
        <i class="fa-solid fa-address-card fa-2x" style="color: var(--accent-color);"></i>
        <a href="javascript:void(0)" class="section-title">个人档案</a>
      </div>
      <hr class="divider">
      <div class="content-wrapper">
        <div class="base-info">
          <div>姓名：李贤伟</div>
          <div>出生日期：1991-09-18</div>
          <div>籍贯：江苏-徐州</div>
          <div>联系电话：+86 158****6214</div>
          <div>电子邮箱：<a href="mailto:caniuse@qq.com">caniuse@qq.com</a></div>
          <div>职业：前端开发工程师</div>
        </div>
        <ul>
          <li><i class="fa-solid fa-tag"></i> 软件工程专业，统招本科，专业基础知识扎实，热爱新技术，学习能力强。</li>
          <li><i class="fa-solid fa-tag"></i> 精通JavaScript，Vue/React框架，熟悉uni-app/node/express/mysql/redis/webpack等。</li>
          <li><i class="fa-solid fa-tag"></i> 有多个中大型项目开发经验，多年作为功能模块负责人经历，有一定的管理经验。</li>
          <li><i class="fa-solid fa-tag"></i> 能独立完成前端研发流程，移动端、PC、微信小程序开发，应用分发上架管理。</li>
          <li><i class="fa-solid fa-tag"></i> 良好的沟通理解协调能力，工作认真负责，和同事领导客户相处愉快。</li>
          <li><i class="fa-solid fa-tag"></i> 英语水平读写熟练。</li>
        </ul>
      </div>
    </section>
    <section id="workexperience" class="content-section">
      <div class="section-header">
        <i class="fa-solid fa-briefcase fa-2x" style="color: var(--accent-color);"></i>
        <a href="javascript:void(0)" class="section-title">个人经历</a>
      </div>
      <hr class="divider">
      <div class="content-wrapper">
        <div class="company-header">
          <span>南京臻威体育科技有限公司</span>
          <span class="address">江苏，南京</span>
        </div>
        <div class="job-title">
          <span>前端开发工程师</span>
          <span class="time">2023.11 -2024.11</span> 
        </div>
        <ul>
          <li><i class="fa-solid fa-tag"></i> 负责调研公众号报名系统UI重构方案</li>
          <li><i class="fa-solid fa-tag"></i> 负责调研报名结算支付相关方案</li>
          <li><i class="fa-solid fa-tag"></i> 负责日常迭代开发、bug 修复、打包部署</li>
          <li><i class="fa-solid fa-tag"></i> 负责官网开发、维护</li>
          <li><i class="fa-solid fa-tag"></i> 负责前、后端框架搭建、开发、维护、组件、库封装，持续提高开发效率和质量</li>
        </ul>
      </div>
      <div class="content-wrapper">
        <div class="company-header">
          <span>南京中诚区块链研究院</span>
          <span class="address">江苏，南京</span>
        </div>
        <div class="job-title">
          <span>前端组长</span>
          <span class="time">2021.05-2023.10</span> 
        </div>
        <ul>
          <li><i class="fa-solid fa-tag"></i> 主导承接证监会项目前端开发需求，包括监管报表、数据治理、赋能服务、后台等系统</li>
          <li><i class="fa-solid fa-tag"></i> 主导并参与公司谷雨严选官网开发</li>
          <li><i class="fa-solid fa-tag"></i> 独立负责0到1搭建谷雨严选公众号前端架构与开发</li>
          <li><i class="fa-solid fa-tag"></i> 负责前端代码的维护与管理，代码review，保证可持续迭代需求、可持续部署</li>
          <li><i class="fa-solid fa-tag"></i> 指导并帮助同事解决开发难题、技术提升</li>
        </ul>
      </div>
    </section>
    <section id="education" class="content-section">
      <div class="section-header">
        <i class="fa-solid fa-user-graduate fa-2x" style="color: var(--accent-color);"></i>
        <a href="javascript:void(0)" class="section-title">教育背景</a>
      </div>
      <hr class="divider">
      <div class="content-wrapper"></div>
    </section>
    <section id="hobby" class="content-section">
      <div class="section-header">
        <i class="fa-solid fa-heart fa-2x" style="color: var(--accent-color);"></i>
        <a href="javascript:void(0)" class="section-title">兴趣爱好</a>
      </div>
      <hr class="divider">
      <div class="content-wrapper"></div>
    </section>
    <section id="other" class="content-section">
      <div class="section-header">
        <i class="fa-solid fa-gift fa-2x" style="color: var(--accent-color);"></i>
        <a href="javascript:void(0)" class="section-title">扩展包</a>
      </div>
      <hr class="divider">
      <div class="content-wrapper"></div>
    </section>
    <!-- 其他内容区块（结构相同） -->
    <div class="modal-mask" id="mask">
      <div class="modal">
        <div class="modal-header">
          <h3 class="modal-header-title"></h3>
          <button class="close-btn" onclick="hideModal()">&times;</button>
        </div>
        <div class="modal-content" id="modal-container"></div>
      </div>
    </div>
  </div>
  <script>
  function showSection(sectionId) {
    // 隐藏所有内容区块
    document.querySelectorAll('.content-section').forEach(section => {
      section.classList.remove('active-section')
    })

    // 显示目标区块
    document.getElementById(sectionId).classList.add('active-section')

    // 更新菜单激活状态
    document.querySelectorAll('.nav-link').forEach(link => {
      link.classList.remove('active')
    })

    event.target.classList.add('active')

    if (getComputedStyle(document.querySelectorAll('.collapsed-menu')[0]).display !== 'none') {
      toggleNav()
    }
  }

  // 显示弹框（添加动画）
  /*
    title: 标题
    path：图片路径
    multiple: 是否多张图片
    count：图片数量
    suffix：图片格式
  */
  let mySwiper = null

  function showModal(title, path, multiple, count) {
    // 加载图片
    document.querySelectorAll('#mask .modal-header-title')[0].textContent = title

    if (multiple && count) {
      // 创建外层容器
      const swiperContainer = document.createElement('div')
      swiperContainer.className = 'swiper'

      // 创建 swiper-wrapper
      const swiperWrapper = document.createElement('div')
      swiperWrapper.className = 'swiper-wrapper'

      // 批量创建 slides
      const fragment = document.createDocumentFragment()

      for (let i = 0; i < count; i++) {
        // 创建 slide 容器
        const slide = document.createElement('div')
        slide.className = 'swiper-slide';

        // 创建图片
        const img = document.createElement('img')
        img.className = 'swiper-lazy'
        img.setAttribute('data-src', `./projects/${path}/${path + (i + 1)}.webp`)

        // 创建预加载器
        const preloader = document.createElement('div')
        preloader.className = 'swiper-lazy-preloader'

        // 组装元素
        slide.appendChild(img)
        slide.appendChild(preloader)
        fragment.appendChild(slide)
      }

      swiperWrapper.appendChild(fragment)

      // 创建分页器
      const pagination = document.createElement('div')
      pagination.className = 'swiper-pagination'

      // 组装完整结构
      swiperContainer.appendChild(swiperWrapper)
      swiperContainer.appendChild(pagination)

      const modalContainer = document.getElementById('modal-container')
      modalContainer.appendChild(swiperContainer)

      // 初始化swiper
      mySwiper = new Swiper('.swiper', {
        direction: 'horizontal', // 垂直切换选项
        loop: false, // 循环模式选项
        // 如果需要分页器
        pagination: {
          clickable: true,
          dynamicBullets: false,
          dynamicMainBullets: 1,
          el: '.swiper-pagination'
        },
        preloadImages: true,
        lazy: {
          loadPrevNext: true
        }
      })
    } else {
      // 创建图片
      const img = document.createElement('img')
      img.className = 'preview-image'
      img.setAttribute('src', `./projects/${path}`)

      const objectFitStyle = multiple
      if (multiple) {
        img.style.objectFit = objectFitStyle
      }

      const modalContainer = document.getElementById('modal-container')
      modalContainer.appendChild(img)
    }

    const mask = document.getElementById('mask')
    mask.classList.add('active')
    document.body.style.overflow = 'hidden' // 防止背景滚动
  }

  // 隐藏弹框（添加动画）
  function hideModal() {
    mySwiper = null
    const modalContainer = document.getElementById('modal-container')
    const fragment = document.createDocumentFragment()
    modalContainer.replaceChildren(fragment)

    const mask = document.getElementById('mask')
    mask.classList.remove('active')
    document.body.style.overflow = 'auto' // 恢复滚动

    // 动画结束后完全隐藏
    mask.addEventListener('transitionend', function handler() {
      mask.removeEventListener('transitionend', handler)
    })
  }

  // 点击遮罩层关闭
  document.getElementById('mask').addEventListener('click', function(e) {
    if (e.target === this) {
      hideModal()
    }
  })

  // 按ESC键关闭
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      hideModal()
    }
  })

  function openLink(link) {
    window.open(link, '_blank')
    event.stopPropagation()
  }

  let navVisible = false

  function toggleNav() {
    navVisible = !navVisible
    document.querySelectorAll('.sidebar')[0].style.display = navVisible ? 'flex' : 'none'
  }

  // 使用 Intersection Observer API 实现
  document.addEventListener('DOMContentLoaded', function() {
    const lazyImages = document.querySelectorAll('.lazy-img')

    // 创建观察器
    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target
          img.src = img.dataset.src
          img.classList.add('loaded')
          observer.unobserve(img) // 停止观察已加载的图片
        }
      })
    }, {
      root: null, // 相对于视口
      rootMargin: '0px', // 不扩展观察区域
      threshold: 0.01 // 轻微交叉即触发
    })

    // 观察所有图片元素
    lazyImages.forEach(img => {
      observer.observe(img)
    })
  })
  </script>
  <script type="text/javascript" src="./utils/particle.js"></script>
  <script src="./assets/swiper-bundle.min.js"></script>
</body>

</html>